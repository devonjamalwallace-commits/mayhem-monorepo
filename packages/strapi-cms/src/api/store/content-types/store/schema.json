{
  "kind": "collectionType",
  "collectionName": "stores",
  "info": {
    "singularName": "store",
    "pluralName": "stores",
    "displayName": "Store",
    "description": "Store configuration per site - SECRETS STORED IN ENV VARS"
  },
  "options": {
    "draftAndPublish": false
  },
  "pluginOptions": {
    "content-manager": {
      "visible": true
    },
    "content-type-builder": {
      "visible": true
    }
  },
  "attributes": {
    "name": {
      "type": "string",
      "required": true
    },
    "site": {
      "type": "relation",
      "relation": "oneToOne",
      "target": "api::site.site"
    },
    "stripe_account_id": {
      "type": "string",
      "required": true
    },
    "stripe_env_key_name": {
      "type": "string",
      "required": true,
      "private": true
    },
    "currency": {
      "type": "enumeration",
      "enum": ["USD", "EUR", "GBP", "CAD", "AUD"],
      "default": "USD"
    },
    "tax_enabled": {
      "type": "boolean",
      "default": false
    },
    "tax_rate": {
      "type": "decimal",
      "min": 0,
      "max": 100
    },
    "shipping_enabled": {
      "type": "boolean",
      "default": true
    },
    "free_shipping_threshold": {
      "type": "decimal",
      "min": 0
    },
    "payment_methods": {
      "type": "json",
      "default": ["card"]
    },
    "checkout_success_url": {
      "type": "string"
    },
    "checkout_cancel_url": {
      "type": "string"
    }
  }
}
